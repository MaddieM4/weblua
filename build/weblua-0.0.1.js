var g=null,h=!1;try{this.Module=Module}catch(aa){this.Module=Module={}}var k="object"===typeof process&&"function"===typeof require,m="object"===typeof window,n="function"===typeof importScripts,p=!m&&!k&&!n;
if(k){Module.print=function(a){process.stdout.write(a+"\n")};Module.printErr=function(a){process.stderr.write(a+"\n")};var r=require("fs"),s=require("path");Module.read=function(a){a=s.normalize(a);var b=r.readFileSync(a).toString();!b&&a!=s.resolve(a)&&(a=path.join(__dirname,"..","src",a),b=r.readFileSync(a).toString());return b};Module.load=function(a){t(read(a))};Module.arguments||(Module.arguments=process.argv.slice(2))}
p&&(Module.print=print,"undefined"!=typeof printErr&&(Module.printErr=printErr),Module.read="undefined"!=typeof read?read:function(a){snarf(a)},Module.arguments||("undefined"!=typeof scriptArgs?Module.arguments=scriptArgs:"undefined"!=typeof arguments&&(Module.arguments=arguments)));m&&!n&&(Module.print||(Module.print=function(a){console.log(a)}),Module.printErr||(Module.printErr=function(a){console.log(a)}));
if(m||n)Module.read=function(a){var b=new XMLHttpRequest;b.open("GET",a,h);b.send(g);return b.responseText},Module.arguments||"undefined"!=typeof arguments&&(Module.arguments=arguments);n&&(Module.print||(Module.print=function(){}),Module.load=importScripts);if(!n&&!m&&!k&&!p)throw"Unknown runtime environment. Where are we?";function t(a){eval.call(g,a)}"undefined"==!Module.load&&Module.read&&(Module.load=function(a){t(Module.read(a))});Module.print||(Module.print=function(){});
Module.printErr||(Module.printErr=Module.print);Module.arguments||(Module.arguments=[]);Module.print=Module.print;Module.a=Module.printErr;Module.preRun||(Module.preRun=[]);Module.postRun||(Module.postRun=[]);
function u(){var a=[],b=0;this.f=function(c){c&=255;b&&(a.push(c),b--);if(0==a.length){if(128>c)return String.fromCharCode(c);a.push(c);b=191<c&&224>c?1:2;return""}if(0<b)return"";c=a[0];var d=a[1],e=a[2];c=191<c&&224>c?String.fromCharCode((c&31)<<6|d&63):String.fromCharCode((c&15)<<12|(d&63)<<6|e&63);a.length=0;return c};this.g=function(a){a=unescape(encodeURIComponent(a));for(var b=[],e=0;e<a.length;e++)b.push(a.charCodeAt(e));return b}}
function v(a){var b=w;x(w,0,a);w=w+a|0;w=w+3>>2<<2;return b}function y(a){var b=z;z=z+a|0;z=z+3>>2<<2;z>=A&&B("Cannot enlarge memory arrays. Either (1) compile with -s TOTAL_MEMORY=X with X higher than the current value, (2) compile with ALLOW_MEMORY_GROWTH which adjusts the size at runtime but prevents some optimizations, or (3) set Module.TOTAL_MEMORY before the program runs.");return b}var C=4,ba={},D;function B(a){Module.print(a+":\n"+Error().stack);throw"Assertion: "+a;}
function E(a,b){a||B("Assertion failed: "+b)}var ca=this;Module.ccall=function(a,b,c,d){return F(G(a),b,c,d)};function G(a){try{var b=eval("_"+a)}catch(c){try{b=ca.Module["_"+a]}catch(d){}}E(b,"Cannot call unknown function "+a+" (perhaps LLVM optimizations or closure removed it?)");return b}
function F(a,b,c,d){function e(a,c){if("string"==c){if(a===g||void 0===a||0===a)return 0;f||(f=w);var b=v(a.length+1);H(a,b);return b}return"array"==c?(f||(f=w),b=v(a.length),I(a,b),b):a}var f=0,l=0;d=d?d.map(function(a){return e(a,c[l++])}):[];a=function(a,b){if("string"==b)return da(a);E("array"!=b);return a}(a.apply(g,d),b);f&&(w=f);return a}Module.cwrap=function(a,b,c){var d=G(a);return function(){return F(d,b,c,Array.prototype.slice.call(arguments))}};
function ea(a,b,c){c=c||"i8";"*"===c.charAt(c.length-1)&&(c="i32");switch(c){case "i1":J[a]=b;break;case "i8":J[a]=b;break;case "i16":K[a>>1]=b;break;case "i32":L[a>>2]=b;break;case "i64":D=[b>>>0,Math.min(Math.floor(b/4294967296),4294967295)>>>0];L[a>>2]=D[0];L[a+4>>2]=D[1];break;case "float":M[a>>2]=b;break;case "double":N[O>>3]=b;L[a>>2]=L[O>>2];L[a+4>>2]=L[O+4>>2];break;default:B("invalid type for setValue: "+c)}}Module.setValue=ea;
Module.getValue=function(a,b){b=b||"i8";"*"===b.charAt(b.length-1)&&(b="i32");switch(b){case "i1":return J[a];case "i8":return J[a];case "i16":return K[a>>1];case "i32":return L[a>>2];case "i64":return L[a>>2];case "float":return M[a>>2];case "double":return L[O>>2]=L[a>>2],L[O+4>>2]=L[a+4>>2],N[O>>3];default:B("invalid type for setValue: "+b)}return g};var P=2,fa=3;Module.ALLOC_NORMAL=0;Module.ALLOC_STACK=1;Module.ALLOC_STATIC=P;Module.ALLOC_NONE=fa;x=function(a,b,c){for(c=a+c;a<c;)J[a++|0]=b};
function Q(a,b,c,d){var e,f;"number"===typeof a?(e=!0,f=a):(e=h,f=a.length);var l="string"===typeof b?b:g;c=c==fa?d:[ga,v,y][void 0===c?P:c](Math.max(f,l?1:b.length));if(e)return x(c,0,f),c;if("i8"===l)return R.set(new Uint8Array(a),c),c;for(d=0;d<f;){var q=a[d];"function"===typeof q&&(q=ba.k(q));e=l||b[d];0===e?d++:("i64"==e&&(e="i32"),ea(c+d,q,e),1==C?e=1:(q={"%i1":1,"%i8":1,"%i16":2,"%i32":4,"%i64":8,"%float":4,"%double":8}["%"+e],q||("*"==e.charAt(e.length-1)?q=C:"i"==e[0]&&(e=parseInt(e.substr(1)),
E(0==e%8),q=e/8)),e=q),d+=e)}return c}Module.allocate=Q;function da(a,b){for(var c=new u,d="undefined"==typeof b,e="",f=0,l;;){l=R[a+f|0];if(d&&0==l)break;e+=c.f(l);f+=1;if(!d&&f==b)break}return e}Module.Pointer_stringify=da;Module.Array_stringify=function(a){for(var b="",c=0;c<a.length;c++)b+=String.fromCharCode(a[c]);return b};var J,R,K,ha,L,ia,M,N,w,z,ja=Module.TOTAL_STACK||5242880,A=Module.TOTAL_MEMORY||16777216;
E(!!Int32Array&&!!Float64Array&&!!(new Int32Array(1)).subarray&&!!(new Int32Array(1)).set,"Cannot fallback to non-typed array case: Code is too specialized");var S=new ArrayBuffer(A);J=new Int8Array(S);K=new Int16Array(S);L=new Int32Array(S);R=new Uint8Array(S);ha=new Uint16Array(S);ia=new Uint32Array(S);M=new Float32Array(S);N=new Float64Array(S);L[0]=255;E(255===R[0]&&0===R[3],"Typed arrays 2 must be run on a little-endian system");Module.HEAP=void 0;Module.HEAP8=J;Module.HEAP16=K;
Module.HEAP32=L;Module.HEAPU8=R;Module.HEAPU16=ha;Module.HEAPU32=ia;Module.HEAPF32=M;Module.HEAPF64=N;w=4*Math.ceil(0.25);var O,ka=Q(12,"i8",1);O=8*Math.ceil(ka/8);E(0==O%8);z=ja;E(z<A);Q(T("(null)"),"i8",1);function U(a){for(;0<a.length;){var b=a.shift(),c=b.j;if("number"===typeof c)if(void 0===b.b)V[c]();else(b=[b.b])&&b.length?V[c].apply(g,b):V[c]();else c(void 0===b.b?g:b.b)}}var la=[],ma=[];function T(a,b,c){a=(new u).g(a);c&&(a.length=c);b||a.push(0);return a}Module.intArrayFromString=T;
Module.intArrayToString=function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c];255<d&&(d&=255);b.push(String.fromCharCode(d))}return b.join("")};function H(a,b,c){a=T(a,c);for(c=0;c<a.length;)J[b+c|0]=a[c],c+=1}Module.writeStringToMemory=H;function I(a,b){for(var c=0;c<a.length;c++)J[b+c|0]=a[c]}Module.writeArrayToMemory=I;Math.e||(Math.e=function(a,b){var c=a&65535,d=b&65535;return c*d+((a>>>16)*d+c*(b>>>16)<<16)|0});var W=0,X={},na=h,Y=g;
Module.addRunDependency=function(a){W++;Module.monitorRunDependencies&&Module.monitorRunDependencies(W);a?(E(!X[a]),X[a]=1,Y===g&&"undefined"!==typeof setInterval&&(Y=setInterval(function(){var a=h,c;for(c in X)a||(a=!0,Module.a("still waiting on run dependencies:")),Module.a("dependency: "+c);a&&Module.a("(end of list)")},6E3))):Module.a("warning: run dependency added without ID")};
Module.removeRunDependency=function(a){W--;Module.monitorRunDependencies&&Module.monitorRunDependencies(W);a?(E(X[a]),delete X[a]):Module.a("warning: run dependency removed without ID");0==W&&(Y!==g&&(clearInterval(Y),Y=g),!na&&Z&&$())};Module.preloadedImages={};Module.preloadedAudios={};
function x(a,b,c){a|=0;b|=0;c|=0;var d=0,e=0,f=0,l=0,d=a+c|0;if(c|0){l=a&3;e=b|b<<8|b<<16|b<<24;f=d&-4;if(l)for(l=a+4-l|0;(a|0)<(l|0);)J[a]=b,a=a+1|0;for(;(a|0)<(f|0);)L[a>>2]=e,a=a+4|0}for(;(a|0)<(d|0);)J[a]=b,a=a+1|0}function ga(a){return y(a+8)+8&4294967288}var oa=h;
function pa(){function a(){var a=h;if((document.webkitFullScreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.mozFullscreenElement||document.fullScreenElement||document.fullscreenElement)===c)c.i=c.requestPointerLock||c.mozRequestPointerLock||c.webkitRequestPointerLock,c.i(),a=!0;if(Module.onFullScreen)Module.onFullScreen(a)}function b(){}var c=Module.canvas;document.addEventListener("fullscreenchange",a,h);document.addEventListener("mozfullscreenchange",a,h);
document.addEventListener("webkitfullscreenchange",a,h);document.addEventListener("pointerlockchange",b,h);document.addEventListener("mozpointerlockchange",b,h);document.addEventListener("webkitpointerlockchange",b,h);c.h=c.requestFullScreen||c.mozRequestFullScreen||(c.webkitRequestFullScreen?function(){c.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}:g);c.h()}Module.requestFullScreen=function(){pa()};
Module.requestAnimationFrame=function(a){window.requestAnimationFrame||(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||window.setTimeout);window.requestAnimationFrame(a)};Module.pauseMainLoop=function(){};Module.resumeMainLoop=function(){oa&&(oa=h,g())};var V=[0,0];
Module.d=function(a){function b(){for(var a=0;3>a;a++)d.push(0)}var c=a.length+1,d=[Q(T("/bin/this.program"),"i8",P)];b();for(var e=0;e<c-1;e+=1)d.push(Q(T(a[e]),"i8",P)),b();d.push(0);d=Q(d,"i32",P);return Module._main(c,d,0)};
function $(a){function b(){var b=0;na=!0;Module._main&&(U(la),b=Module.d(a),Module.noExitRuntime||U(ma));if(Module.postRun)for("function"==typeof Module.postRun&&(Module.postRun=[Module.postRun]);0<Module.postRun.length;)Module.postRun.pop()();return b}a=a||Module.arguments;if(0<W)return Module.a("run() called, but dependencies remain, so not running"),0;if(Module.preRun){"function"==typeof Module.preRun&&(Module.preRun=[Module.preRun]);var c=Module.preRun;Module.preRun=[];for(var d=c.length-1;0<=
d;d--)c[d]();if(0<W)return 0}return Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1);b()},1),0):b()}Module.run=Module.o=$;if(Module.preInit)for("function"==typeof Module.preInit&&(Module.preInit=[Module.preInit]);0<Module.preInit.length;)Module.preInit.pop()();U([]);var Z=h;Module.noInitialRun&&(Z=h);Z&&$();
this.Lua={c:h,state:g,l:function(){if(this.c)throw Error("Lua already initialized");$();this.state=_luaL_newstate();_luaL_openlibs(this.state);this.c=!0},eval:function(){throw"Not implemented yet: Lua.eval";},n:function(){throw"Not implemented yet: Lua.lua_to_js";},m:function(){throw"Not implemented yet: Lua.js_to_lua";}};
